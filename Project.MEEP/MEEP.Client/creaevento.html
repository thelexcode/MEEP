<!doctype html>
<html lang="en" data-bs-theme="auto">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
  <meta name="generator" content="Hugo 0.112.5">
  <title>MEEP</title>
  <link rel="canonical" href="https://getbootstrap.com/docs/5.3/examples/album/">

  <link rel="canonical" href="https://getbootstrap.com/docs/5.3/examples/checkout/">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="shortcut icon" type="image/x-icon" href="crea-evento/media/logo.png">
  



  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">

  


  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }

    .b-example-divider {
      width: 100%;
      height: 3rem;
      background-color: rgba(0, 0, 0, .1);
      border: solid rgba(0, 0, 0, .15);
      border-width: 1px 0;
      box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
    }

    .b-example-vr {
      flex-shrink: 0;
      width: 1.5rem;
      height: 100vh;
    }

    .bi {
      vertical-align: -.125em;
      fill: currentColor;
    }

    .nav-scroller {
      position: relative;
      z-index: 2;
      height: 2.75rem;
      overflow-y: hidden;
    }

    .nav-scroller .nav {
      display: flex;
      flex-wrap: nowrap;
      padding-bottom: 1rem;
      margin-top: -1px;
      overflow-x: auto;
      text-align: center;
      white-space: nowrap;
      -webkit-overflow-scrolling: touch;
    }

    .btn-bd-primary {
      --bd-violet-bg: #712cf9;
      --bd-violet-rgb: 112.520718, 44.062154, 249.437846;

      --bs-btn-font-weight: 600;
      --bs-btn-color: var(--bs-white);
      --bs-btn-bg: var(--bd-violet-bg);
      --bs-btn-border-color: var(--bd-violet-bg);
      --bs-btn-hover-color: var(--bs-white);
      --bs-btn-hover-bg: #6528e0;
      --bs-btn-hover-border-color: #6528e0;
      --bs-btn-focus-shadow-rgb: var(--bd-violet-rgb);
      --bs-btn-active-color: var(--bs-btn-hover-color);
      --bs-btn-active-bg: #5a23c8;
      --bs-btn-active-border-color: #5a23c8;
    }

    .bd-mode-toggle {
      z-index: 1500;
    }

    .select-btn {
      display: flex;
      height: 50px;
      align-items: center;
      justify-content: space-between;
      padding: 0 16px;
      border-radius: 8px;
      cursor: pointer;
      background-color: #fff;
      box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
    }

    .select-btn .btn-text {
      font-size: 17px;
      font-weight: 400;
      color: #333;
    }

    .select-btn .arrow-dwn {
      display: flex;
      height: 21px;
      width: 21px;
      color: #fff;
      font-size: 14px;
      border-radius: 50%;
      background: #6e93f7;
      align-items: center;
      justify-content: center;
      transition: 0.3s;
    }

    .select-btn.open .arrow-dwn {
      transform: rotate(-180deg);
    }

    .list-items {
      position: relative;
      margin-top: 15px;
      border-radius: 8px;
      padding: 16px;
      background-color: #fff;
      box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
      display: none;
    }

    .select-btn.open~.list-items {
      display: block;
    }

    .list-items .item {
      display: flex;
      align-items: center;
      list-style: none;
      height: 50px;
      cursor: pointer;
      transition: 0.3s;
      padding: 0 15px;
      border-radius: 8px;
    }

    .list-items .item:hover {
      background-color: #e7edfe;
    }

    .item .item-text {
      font-size: 16px;
      font-weight: 400;
      color: #333;
    }

    .item .checkbox {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 16px;
      width: 16px;
      border-radius: 4px;
      margin-right: 12px;
      border: 1.5px solid #c0c0c0;
      transition: all 0.3s ease-in-out;
    }

    .item.checked .checkbox {
      background-color: #4070f4;
      border-color: #4070f4;
    }

    .checkbox .check-icon {
      color: #fff;
      font-size: 11px;
      transform: scale(0);
      transition: all 0.2s ease-in-out;
    }

    .item.checked .check-icon {
      transform: scale(1);
    }

    #error {
      color: red;
    }
  </style>


  <!-- Custom styles for this template -->
  <link href="crea-evento/checkout.css" rel="stylesheet">
</head>

<body class="bg-body-tertiary">
  <header>
    <nav class="navbar navbar-dark bg-primary" aria-label="First navbar example">
      <div class="container-fluid">
        <a class="navbar-brand" href="index.html">MEEP</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsExample01"
          aria-controls="navbarsExample01" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarsExample01">
          <ul class="navbar-nav me-auto mb-2">
            <li class="nav-item">
              <a class="nav-link" href="creaevento.html">Crea evento</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="areariservata.html">Area utente</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="index.html">Home</a>
            </li>
          </ul>

        </div>
      </div>
    </nav>
  </header>

  <div class="container">
    <main>
      <div class="py-5 text-center">
        <a href="index.html" style="display: inline-block;">
          <img class="d-block mx-auto mb-4" src="media/MEEP.png" alt="" width="72" height="100">
      </a>
        <h2>Crea evento</h2>
        <p class="lead">Benvenuti alla compilazione del form per l'organizzazione del vostro straordinario evento! È il
          momento di dare vita alle vostre idee più audaci e trasformarle in una realtà indimenticabile</p>
      </div>

      <div class="row g-5">

        <form class="needs-validation" id="myForm">
          <div class="row g-3">
            <div class="col-md-12">
              <label for="Title" class="form-label">Titolo</label>
              <input type="text" class="form-control" id="Title" placeholder="" value="" required>
            </div>

            <label for="Tipologia" class="form-label" >Tipologia</label>
            
            <div class="col-md-12">
              <label for="Tipologia" class="form-label">Tipologia</label>
              <div class="dropdown-check-list" tabindex="100">
                <ul id="tipologiaOptions" class="items">
                  <li><input class="tipologia-checkbox" type="checkbox" value="2" onchange="limitSelection()">Serata cinema</li>
                  <li><input class="tipologia-checkbox" type="checkbox" value="3" onchange="limitSelection()">Serie TV</li>
                  <li><input class="tipologia-checkbox" type="checkbox" value="4" onchange="limitSelection()">Party</li>
                  <li><input class="tipologia-checkbox" type="checkbox" value="5" onchange="limitSelection()">Videogiochi</li>
                  <li><input class="tipologia-checkbox" type="checkbox" value="6" onchange="limitSelection()">Serata pizza</li>
                  <li><input class="tipologia-checkbox" type="checkbox" value="7" onchange="limitSelection()">Karaoke</li>
                  <li><input class="tipologia-checkbox" type="checkbox" value="8" onchange="limitSelection()">Cena tematica</li>
                  <li><input class="tipologia-checkbox" type="checkbox" value="9" onchange="limitSelection()">Giochi di ruolo</li>
                  <li><input class="tipologia-checkbox" type="checkbox" value="10" onchange="limitSelection()">Serata degustazione</li>
                </ul>
              </div>
            </div>
      
            
            

            <hr class="my-4">
            <div class="row g-3">

            <div class="col-md-4">
              <label for="data-evento" class="form-label">Data:</label>
              <input type="date" class="form-control" id="data-evento" placeholder="" value="" required
                max="2030-12-31">
            </div>

            <div class="col-md-4">
              <label for="ora-evento" class="form-label">Ora inizio:</label>
              <input type="time" class="form-control" id="ora-inizio" placeholder="" value="" required>
            </div>

            <div class="col-md-4">
              <label for="ora-evento" class="form-label">Ora fine: </label>
              <input type="time" class="form-control" id="ora-fine" placeholder="" value="" required>
            </div>

            <div class="col-lg-6">
              <label for="ora-evento">Max partecipanti:</label>
              <input type="number" class="form-control" id="maxPartecipanti" placeholder="" value="" required min="1"
                max="15">
            </div>

            <div class="col-md-6">
              <label for="ora-evento">Max accompagnatori:</label>
              <input type="number" class="form-control" id="maxAccompagnatori" placeholder="" value="" required min="0"
                max="5">
            </div>

            <hr class="my-4">

            <div class="form-group col-md-12">
              <label for="Descrizione">Descrizione(opzionale)</label>
              <textarea class="form-control" id="descrizione" rows="3" maxlength="200"
                style="max-height: 200px;">
                </textarea>
            </div>


            <form>
              <div class="form-group">
                <label for="exampleFormControlFile1">Carica un'immagine</label>
                <input type="file" class="form-control-file" id="exampleFormControlFile1" accept="image/*" required>
              </div>
            </form>

            <hr class="my-4">

            <button class="w-100 btn btn-primary btn-lg" onclick="creaevento()" type="button">Crea il tuo evento</button>

            </div>
        </form>

      </div>
    </main>

    
  </div>
 

  <div class="container-fluid my-5 col-md-12 mb-md-0 p-0">
    <!-- Footer -->
    <footer class="text-center text-lg-start text-white p-0" style="background-color: #b2b7c0">
      <!-- Grid container -->
      <div class="container p-4 ">
        <!-- Section: Links -->
        <section class="">
          <!--Grid row-->
          <div class="row">
            <!-- Grid column -->
            <div class="col-md-3 col-lg-3 col-xl-3 mx-auto mt-3">
              <h6 class="text-uppercase mb-4 font-weight-bold">
                MEEP
              </h6>
              <p>
                L'app di eventi che non puoi perdere!"
Scopri, partecipa e vivi i migliori eventi della tua città con un semplice tocco!

              </p>
            </div>
            <!-- Grid column -->

            <hr class="w-100 clearfix d-md-none" />



            <hr class="w-100 clearfix d-md-none" />

            <!-- Grid column -->
            <hr class="w-100 clearfix d-md-none" />

            <!-- Grid column -->
            <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mt-3">
              <h6 class="text-uppercase mb-4 font-weight-bold">Contatti</h6>
              <p><i class="fas fa-home mr-3"></i> Torino, To, 10024 IT</p>
              <p><i class="fas fa-envelope mr-3"></i> meep@info.com</p>
              <p><i class="fas fa-phone mr-3"></i> + 01 234 567 88</p>
              <p><i class="fas fa-print mr-3"></i> + 01 234 567 89</p>
            </div>
            <!-- Grid column -->

            <!-- Grid column -->
            <div class="col-md-3 col-lg-2 col-xl-2 mx-auto mt-3">
              <h6 class="text-uppercase mb-4 font-weight-bold">Seguici</h6>

              <!-- Facebook -->
              <a class="btn btn-primary btn-floating rounded-circle m-1" style="background-color: #3b5998;
                            box-shadow: 0 0 5px rgba(0, 0, 0, 0.3); border: none !important;" href=" #!"
                role="button"><i class="fab fa-facebook-f"></i></a>

              <!-- Twitter -->
              <a class="btn btn-primary btn-floating rounded-circle m-1"
                style="background-color: #55acee; box-shadow: 0 0 5px rgba(0, 0, 0, 0.3); border: none !important;"
                href="#!" role="button"><i class="fab fa-twitter"></i></a>

              <!-- Google -->
              <a class="btn btn-primary btn-floating rounded-circle m-1"
                style="background-color: #dd4b39; box-shadow: 0 0 5px rgba(0, 0, 0, 0.3); border: none !important;"
                href="#!" role="button"><i class="fab fa-google"></i></a>

              <!-- Instagram -->
              <a class="btn btn-primary btn-floating rounded-circle m-1"
                style="background-color: #ac2bac;box-shadow: 0 0 5px rgba(0, 0, 0, 0.3); border: none !important;"
                href="#!" role="button"><i class="fab fa-instagram"></i></a>

              <!-- Linkedin -->
              <a class="btn btn-primary btn-floating rounded-circle m-1"
                style="background-color: #0082ca;box-shadow: 0 0 5px rgba(0, 0, 0, 0.3); border: none !important;"
                href="#!" role="button"><i class="fab fa-linkedin-in"></i></a>
              <!-- WhatsApp -->
              <a class="btn btn-primary btn-floating rounded-circle m-1"
                style="background-color: #25D366; box-shadow: 0 0 5px rgba(0, 0, 0, 0.3); border: none !important;"
                href="#!" role="button"><i class="fab fa-whatsapp"></i></a>

            </div>
          </div>
          <!--Grid row-->
        </section>
        <!-- Section: Links -->
      </div>
      <!-- Grid container -->

      <!-- Copyright -->
      <div class="text-center p-3" style="background-color: rgba(0, 0, 0, 0.2); ">
        <p style="transform: translateX(-35px);">© 2023 MEEP</p>
      </div>

      <!-- Copyright -->
    </footer>
    <!-- Footer -->
  </div>
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.18/dist/sweetalert2.min.css">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.18/dist/sweetalert2.all.min.js"></script>

  <script>
    const selectBtn = document.querySelector(".select-btn"),
      items = document.querySelectorAll(".item"),
      form = document.querySelector("#myForm"),
      error = document.querySelector("#error");

   

    items.forEach(item => {
      item.addEventListener("click", () => {
        let checked = document.querySelectorAll(".checked");
        if (checked.length < 3 || item.classList.contains("checked")) {
          item.classList.toggle("checked");
          checked = document.querySelectorAll(".checked");
        }

        let btnText = document.querySelector(".btn-text");

        if (checked && checked.length > 0) {
          btnText.innerText = `${checked.length} Selected`;
        } else {
          btnText.innerText = "Scegli la tipologia di evento";
        }
      });
    });

    form.addEventListener("submit", event => {
      let checked = document.querySelectorAll(".checked");
      if (checked.length === 0) {
        event.preventDefault();
        error.style.display = "block";
      } else {
        error.style.display = "none";
      }
    });

  </script>






     


      <script>
        function creaevento() {
          var titolo = document.getElementById("Title").value;
          var data = document.getElementById("data-evento").value;
          var oraInizio = document.getElementById("ora-inizio").value;
          var oraFine = document.getElementById("ora-fine").value;
          var maxPartecipanti = document.getElementById("maxPartecipanti").value;
          var maxAccompagnatori = document.getElementById("maxAccompagnatori").value;
          var descrizione = document.getElementById("descrizione").value;
          var tipologieCheckbox = document.querySelectorAll('.tipologia-checkbox:checked');
          var idTipologia = null;
          var codiceEvento;
      
          if (tipologieCheckbox.length > 0) {
            idTipologia = parseInt(tipologieCheckbox[0].value);
          }
      
          var evento = {
            titolo: titolo,
            data: data,
            oraInizio: oraInizio,
            oraFine: oraFine,
            maxPartecipanti: maxPartecipanti,
            descrizione: descrizione,
            maxAccompagnatori: maxAccompagnatori,
          };
      
          var token = localStorage.getItem("token");
      
          fetch("http://localhost:8090/evento/create", {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
              "Access-Control-Allow-Origin": "*",
              Authorization: token,
            },
            body: JSON.stringify(evento),
          })
            .then((response) => {
              if (response.ok) {
                return response.json();
              } else {
                throw new Error("Errore nella richiesta. Stato: " + response.status);
              }
            })
            .then((evento) => {
              codiceEvento = evento.codiceEvento;
              console.log("Codice evento:", codiceEvento);
      
              var fileInput = document.getElementById("exampleFormControlFile1");
              var file = fileInput.files[0];
      
              var formData = new FormData();
              formData.append("file", file);
      
              return fetch("http://localhost:8090/evento/" + codiceEvento + "/edit-foto", {
                method: "POST",
                headers: {
                  "Access-Control-Allow-Origin": "*",
                  Authorization: token,
                },
                body: formData,
              });
            })
            .then((response) => {
              if (response.ok) {
                console.log("Immagine caricata con successo!");
              } else {
                throw new Error("Errore nella richiesta. Stato: " + response.status);
              }
            })
            .then(() => {
              var tipologia = {
                idTipologia: idTipologia,
                codiceEvento: codiceEvento,
              };
      
              fetch("http://localhost:8090/eventotipologia/add", {
                method: "POST",
                headers: {
                  "Content-Type": "application/json",
                  "Access-Control-Allow-Origin": "*",
                  Authorization: token,
                },
                body: JSON.stringify(tipologia),
              })
                .then((response) => {
                  if (response.ok) {
                    console.log("Tipologia aggiunta con successo!");
                  } else {
                    throw new Error("Errore nella richiesta. Stato: " + response.status);
                  }
                })
                .then(() => {
                  Swal.fire({
                    icon: "success",
                    title: "Evento registrato con successo!",
                    showConfirmButton: true,
                  }).then((result) => {
                    if (result.isConfirmed) {
                      window.location.href = "areariservata.html";
                    }
                  });
                })
                .catch((error) => {
                  console.error("Si è verificato un errore:", error);
                });
            })
            .catch((error) => {
              console.error("Si è verificato un errore:", error);
            });
        }
      </script>
      
        









  
  <script>
    function limitSelection() {
      var checkboxes = document.querySelectorAll('.items input[type="checkbox"]');
      var selectedCount = 0;
    
      for (var i = 0; i < checkboxes.length; i++) {
        if (checkboxes[i].checked) {
          selectedCount++;
        }
    
        if (selectedCount >= 3) {
          checkboxes[i].disabled = !checkboxes[i].checked;
        } else {
          checkboxes[i].disabled = false;
        }
      }
    }
    </script>
     <script src="../assets/dist/js/bootstrap.bundle.min.js"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.1.0/js/bootstrap.bundle.min.js"></script>
     <!-- jQuery -->
     <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  

</body>

</html>